{% load units_tags %}

<div class="modal-full fade" id="modalClientMacros" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
   <div class="modal-dialog-full">
      <div class="modal-content-full">
         <div class="modal-header">
            <button type="button" onclick="window.location={% if url_return %} '{{ url_return }}'{% else %}'/program'{% endif %}; return false;" class="close" data-dismiss="modal">
               <span aria-hidden="true">Ã— Close</span>
            </button>
         </div>
         <div class="modal-body">

    <div class="row">
        <div class="span6" style="float: none; margin: 0 auto;">
           <img class="profile-headshot img-circle" id='headshot' src="{{ client.get_headshot_url }}" />
           <h3>Let's tweak macros for <a id='name' ></a></h3>
           For reference <a id='blurb'></a>
           <p class="macroblurb">You can use one of our preset formulas to give a rough calculation, but whatever you type below that will override it. So you can set <a id='name2' >{{ client.name }}</a>'s macros however you want.</p>
           <div class="formpage-block">
              <form method="post" name="client_macros"> {% csrf_token %}

                    <select name="client_macros_formulas" id="client-formula-select" class="selectpicker">
                        <option value="DEFAULT">Standard Macro Formula</option>
                        <option value="BULK">Bulking (+10%)</option>
                        <option value="BEAST">Beast Mode (+15%)</option>
                        <option value="CUT">Cutting (-10%)</option>
                    </select>
                    <script src="{{ STATIC_URL }}js/bootstrap-select.js"></script>
                    <!-- Note: formulas also in base/view.py client_macros_set() -->
                    <script type="text/javascript">

                        $(document).ready(function(e) {
                            $('.selectpicker').selectpicker({ style: 'btn-info', size: "auto", });
                        });
                        $(document).on("change", "#client-formula-select", function(){
                           var selected = $('#client-formula-select').val();
                             if (selected == 'DEFAULT') { x = show_client_macros(1); } 
                             else if (selected == 'BULK') { x = show_client_macros(1.1); }
                             else if (selected == 'CUT') { x = show_client_macros(0.9); }
                             else if (selected == 'BEAST') { x = show_client_macros(1.15); }
                         });
                    </script>
                <div class="macroform-day">
                  <div class="macroform-day-header">
                    Workout Day
                  </div>
                  <div class="macroform-macros">
                    <div class="macroform">
                      <div class="macroform-header">
                        Calories
                      </div>
                      <div class="macroform-numbers">
                        <div class="macroform-macro with-input">
                          <input type="text" id="c_wout_cals" class="macro-input">
                      </div>
                    </div>
                    </div>

                    <div class="macroform">
                      <div class="macroform-header">
                        Protein
                      </div>
                      <div class="macroform-numbers">
                        <div class="macroform-macro with-input">
                          <input type="text" id="c_wout_protein" class="macro-input">
                      </div>
                    </div>
                  </div>

                    <div class="macroform">
                      <div class="macroform-header">
                        Fat
                      </div>
                      <div class="macroform-numbers">
                        <div class="macroform-macro with-input">
                          <input type="text" id="c_wout_fat" class="macro-input">
                      </div>
                    </div>
                  </div>

                    <div class="macroform">
                      <div class="macroform-header">
                        Carbs
                      </div>
                      <div class="macroform-numbers">
                        <div class="macroform-macro with-input">
                          <input type="text" id="c_wout_carbs" class="macro-input">
                        </div>
                      </div>
                    </div>
                  </div>

                </div>

                <div class="macroform-day">
                  <div class="macroform-day-header">
                    Rest Day
                  </div>
                  <div class="macroform-macros">
                    <div class="macroform">
                      <div class="macroform-header">
                        Calories
                      </div>
                      <div class="macroform-numbers">
                        <div class="macroform-macro with-input">
                          <input type="text" id="c_rest_cals" class="macro-input">
                      </div>
                    </div>
                    </div>

                    <div class="macroform">
                      <div class="macroform-header">
                        Protein
                      </div>
                      <div class="macroform-numbers">
                        <div class="macroform-macro with-input">
                          <input type="text" id="c_rest_protein" class="macro-input">
                      </div>
                    </div>
                  </div>

                    <div class="macroform">
                      <div class="macroform-header">
                        Fat
                      </div>
                      <div class="macroform-numbers">
                        <div class="macroform-macro with-input">
                          <input type="text" id="c_rest_fat" class="macro-input">
                      </div>
                    </div>
                  </div>

                    <div class="macroform">
                      <div class="macroform-header">
                        Carbs
                      </div>
                      <div class="macroform-numbers">
                        <div class="macroform-macro with-input">
                          <input type="text" id="c_rest_carbs" class="macro-input">
                        </div>
                      </div>
                    </div>
                  </div>
                  
                </div>
                
                 <button class="obtn full-width" id="client-macros-button" onclick="{ save_macros(); update_summary_macros(); return false; }" class="close" data-dismiss="modal" style="margin-left: 10px;">*Set Macros</button>
              </form>

           </div>
        </div>
    </div>
</div>
</div>
</div>
</div>
</div>


