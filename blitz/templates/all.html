{% extends "base.html" %}

{% block body_extras %}
{% endblock %}

{% block morehead %}
{% endblock %}

{% block outer_content %}

{% include "logged_out_header.html" %}
{% load get_col %}

<div class="allplanscover">

  <div class="container">
      <div class="row">
        <div class="col-md-4" style="text-align: center; margin-top: 50px;">
          <div id="" class="shrink">
          </div>
        </div>
      </div>

  <div class="row" style="min-height: 300px; margin-top: 5%;">
      <div class="col-md-4" style="text-align: left;">
        <h2 class="lightfont" style="text-align: center; line-height: 1.4; color: white; margin-bottom: 10px;">
          Getting in awesome shape has never been easier.
        </h2>
        <p class="info-text lightfont mobile-text-shrink" style="text-align: center; margin-bottom: 20px; line-height: 1.3; color: white;">
          Blitz has plans for everyone and every goal. You can follow popular programs for free or get a custom one from a great, hand-picked trainer. It's the easiest way of taking your fitness to the next level and getting the body you deserve.
        </p>
      </div>
  </div>

  </div>
</div>

<div class="container" style="margin-top: 30px; background-color: #fefefe">
  <div class="row">
    <div class="col-md-12" style="text-align: center;">
      <h1 class="lightfont">
        Sign up for one of these plans
      </h1>
    </div>
  </div>
</div>

<div class="container" style="margin-top: 30px; background-color: #fefefe">

  <div class="row">

{% for blitz in blitzes|dictsort:"price" %}

<!-- program card -->
{% if cols|get_col:forloop.counter0 = 2 %}
    {% if cols|get_prior_col:forloop.counter = 3 %} </div><div class="row">{% endif %}
    <div class="col-md-6">
{% elif cols|get_col:forloop.counter0 = 3 %}
    {% if cols|get_prior_col:forloop.counter = 2 %} </div><div class="row">{% endif %}
    <div class="col-md-4">
{% endif %}

<!-- program card -->
      <div class="overview-block program-block" {% if cols|get_col:forloop.counter0 = 2 %}style="height: 480px;"{% endif %}>
        {% if blitz.sales_page_content.social_proof_header_html %}
        <div class="program-cover-photo" style="background-image: url('{{ blitz.sales_page_content.social_proof_header_html }}');">
        {% else %}
        <div class="program-cover-photo" style="background-image: url('{{ STATIC_URL }}images/{{ programbackground|random }}');">
        {% endif %}
          <div class="program-cover-bg">
            <div class="program-name">
              <h3 class="lightfont">
                {{ blitz.title }} {{ cols.forloop.counter }}
              </h3>
            </div>
            <div class="row trainer-block">
              {% if cols|get_col:forloop.counter0 = 3 %}
              <div class="col-xs-3">
              {% elif cols|get_col:forloop.counter0 = 2 %}
              <div class="col-md-2 col-xs-3">
              {% endif %}
                <img class="program-trainer-headshot" width="60px" src="{{ blitz.trainer.get_headshot_url }}">
              </div>
              {% if cols|get_col:forloop.counter0 = 3 %}
              <div class="col-xs-9">
              {% elif cols|get_col:forloop.counter0 = 2 %}
              <div class="col-md-10 col-xs-9">
              {% endif %}
                <div class="program-trainer-name">
                  <h4>
                    {{ blitz.trainer.name }}
                  </h4>
                </div>
                <div class="program-trainer-tag">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="row" style="margin: 0; padding-top: 20px;">
          <div class="col-xs-4">
            <span class="program-detail-label">
              Cost
            </span>
            <br />
            <span class="program-numeral">
              {% if blitz.free or blitz.sample or blitz.price == 0 %}FREE
              {% else %}${{ blitz.price|stringformat:"1.0f"|cut:"-" }}
              {% endif %}
            </span>
          </div>
          <div class="col-xs-4">
            <span class="program-detail-label">
              Weeks
            </span>
            <br />
            <span class="program-numeral">
              {% if blitz.num_weeks > 0 %}{{ blitz.num_weeks }}{% else %} 12 {% endif %}
            </span>
          </div>
          {% if not blitz.free and not blitz.sample %}
          <div class="col-xs-4">
            <span class="program-detail-label">
              Spots left
            </span>
            <br />
            <span class="program-numeral">
              {{ days_left|random }}
            </span>
          </div>
          {% endif %}
        </div>
        <div class="row" style="margin: 0; padding: 10px 20px; text-align: center;">
          <div class="program-details" {% if cols|get_col:forloop.counter0 = 2 %}style="height: 40px;"{% endif %}>
               {% if "I'm taking a limited number of awesome" in blitz.sales_page_content.program_introduction %}
                  {{ blitz.default_intro|truncatechars:180 }}
               {% else %}
                  {{ blitz.sales_page_content.program_introduction|truncatechars:180 }}
               {% endif %}

          </div>
        </div>
        <div class="row" style="margin: 0; padding: 10px 20px;">
          <button class="obtn full-width" onclick="window.location='{{ blitz.trainer.short_name }}/{{ blitz.url_slug }}';">
            Learn More
          </button>
        </div>
      </div>

<!-- / program card -->

</div>

{% endfor %}


<!-- little container div -->
</div>
<!--big container div -->
</div>

<div class="sales-footer">
  Â©Blitz MMXV
</div>

{% endblock %}
